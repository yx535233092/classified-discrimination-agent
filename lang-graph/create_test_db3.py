import sqlite3
import os

current_dir = os.path.dirname(os.path.abspath(__file__))

# 连接数据库
conn = sqlite3.connect(os.path.join(current_dir, 'test_documents_3.db'))
cursor = conn.cursor()

# 创建表
cursor.execute('''
CREATE TABLE IF NOT EXISTS test (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  title TEXT NOT NULL,
  summary TEXT NOT NULL,
  is_sensitive BOOLEAN NOT NULL
)
''')

sample_data = [
    # 打乱顺序的20条测试数据（10条涉密 + 10条非涉密）- 每条约500字
    ("2026 年度国防重点工程招投标底价调整方案（内部传阅）", 
     """本方案旨在应对当前国际形势变化及原材料价格波动，对2026年度三大国防重点基础设施建设项目的最高投标限价和评标底价进行精确调整。文件详细列出了项目 A、B、C 的保密预算编号、具体的成本测算模型，以及严禁对外披露的议价区间。调整后的底价已获高层领导圈阅批示，必须立即启动加密通信流程，通知相关授权单位进行内部参阅。任何电子或纸质副本的流出均视为严重违规行为，须在三日内对所有涉密载体进行登记和二次加密处理，并提交安全保卫部门复核。""", 
     1),
    ("核心系统 S-01 季度安全漏洞评估与应急处置报告", 
     """报告详细披露了电子政务内网核心业务系统 S-01 在上季度安全渗透测试中发现的 3 个零日漏洞（Zero-day vulnerabilities）的具体技术细节、攻击路径分析和潜在影响评估。内容包括系统拓扑结构图、加密密钥轮换频率、以及针对这 3 个漏洞的分级应急处置流程（内部版）。该信息一旦泄露，可能导致国家关键数据遭到大规模窃取。要求各节点负责人严格执行阅后即收原则，禁止在非涉密网络环境下讨论或复制，并对报告内容进行严格密级管控。""",
     1),
    ("关于 H 省厅级干部 Z 某严重违纪问题立案调查进展通报 (内部限定)", 
     """经中央纪律审查委员会授权，现就 H 省某厅级干部 Z 某的严重违纪违法行为调查工作进行阶段性内部通报。通报内容涉及正在侦办中的案件详情，包括涉案金额、关键证人名单（线人信息）、以及目前已掌握的敏感证据目录。本次通报仅限部级以上领导内部阅览，目的在于统一思想，为后续的人事任免（未宣布）提供决策依据。所有阅读人员必须承诺对所获信息进行绝对保密，禁止以任何形式外传或记录。""",
     1),
    ("区X 市敏感矿产资源年度储备与调配计划（2026-2030）", 
     """本计划旨在确保国家对 X 市稀有战略矿产资源的长期稳定控制。文件详细规划了未来五年内，敏感矿产 A、B 的年度开采量、战略储备库的地理坐标（高精度）以及紧急状态下的大额资金调拨流程和额度。计划明确了核心技术出口管制的最新目录，以及与此相关的涉军企业名录。此数据直接关系到国家经济安全和战略部署，属于核心涉密经济信息。要求相关部门必须在加密通道内完成数据传输和共享。""",
     1),
     ("国家级突发公共卫生事件应急预案（绝密草案 3.0）", 
     """本文件是针对未来可能发生的国家级重大传染病疫情或生物安全事件设计的核心应急处置流程（内部）。草案详细列出了战略物资储备的分布位置、未公开的疫情监测数据预测模型参数，以及在最高响应级别下，关键人员的行动轨迹权限和通信日志获取授权细节。该草案内容涉及国家危机管理的核心机密，一旦泄露，可能引起社会恐慌，必须在严格限定范围内进行讨论和审批。""",
     1),
     ("关于提高政务服务大厅窗口效率的公开征求意见通知", 
     """为深入推进“放管服”改革，切实提升群众和企业的办事体验，我局拟对政务服务大厅的窗口工作效率进行全面优化。现向社会公开征求意见，重点围绕简化办事流程、优化线上预约系统、延长服务时间等具体措施。公众可通过官方网站或政务邮箱提交意见和建议。本通知旨在广泛听取民意，所有反馈意见将在汇总整理后，适时向社会公开。本次征求意见截止日期为下个月 15 日，欢迎社会各界积极参与。""",
     0),
    ("市环保局发布上月主要城区空气质量监测报告（已公开）", 
     """根据最新的环境监测数据，本市上个月主要城区空气质量总体保持良好。PM2.5 平均浓度环比下降 5%，优良天数占比达到 85%。报告详细列出了 5 个监测点的每日数据，并与去年同期进行了公开对比。报告指出，主要的污染物排放源已得到有效控制，下一步将重点加大对建筑工地扬尘的监管力度，确保空气质量持续改善。本报告已在市环保局官方网站上全文发布，供公众查阅和监督。""",
     0),
    ("关于举办“数字政府”主题培训班的通知", 
     """为提升全市行政事业单位工作人员的数字素养和信息化应用能力，定于下周举办“数字政府建设与大数据应用”主题培训班。培训内容包括电子公文规范、基础数据分析方法、云计算基础知识等。本次培训为非涉密培训，旨在普及通用技能。请各单位根据通知要求，在系统内报名并按时参加，培训资料将在公开的云平台提供下载，不涉及任何内部密钥或核心系统权限。""",
     0),
    ("2025 年度公共设施维护预算支出情况说明（已审批）", 
     """本说明旨在向公众详细解释 2025 年度公共设施维护预算的支出去向。主要支出项目包括市政道路修补、路灯更换、城市绿化养护等。文件提供了各项支出金额的概算和已审批通过的最终预算，但不包含任何供应商的招投标底价或商业合同细节。所有数据均已在年终财政报告中公开披露，接受社会监督。""",
     0),
     ("市政府办公室关于规范公文格式的通知", 
     """为提高市政府公文处理效率和规范性，现就公文格式的若干细节进行统一规范。通知明确了公文标题字体、行文规则、附件标注等通用要求，并提供了标准的模板示例。本通知属于行政管理流程的公开规范性文件，旨在指导各部门提高公文质量，不涉及任何保密内容或敏感信息。各单位可自行下载附件模板并在内部学习传达。""",
     0)
]

# 插入数据
cursor.executemany('''
INSERT INTO test (title, summary, is_sensitive)
VALUES (?, ?, ?)
''', sample_data)

conn.commit()