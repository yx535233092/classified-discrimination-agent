import sqlite3
import os

current_dir = os.path.dirname(os.path.abspath(__file__))

# 连接数据库
conn = sqlite3.connect(os.path.join(current_dir, 'test_documents.db'))
cursor = conn.cursor()

# 创建表
cursor.execute('''
CREATE TABLE IF NOT EXISTS test (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  title TEXT NOT NULL,
  summary TEXT NOT NULL,
  is_sensitive BOOLEAN NOT NULL
)
''')

# 50条模拟数据（25条涉密 + 25条非涉密）
sample_data = [
    # === 涉密文档（25条）===
    ("2024年度财务报表", "公司2024年Q3未审计财务数据显示营收2.3亿元，净利润8000万，毛利率35%。预计年底IPO，估值50亿。", 1),
    ("核心技术专利文档", "公司自研算法DeepCore-V3的核心代码和训练数据集，包含500万条用户行为数据。数据库密码Admin@2024#Secure。", 1),
    ("VIP客户名单", "重要客户包括阿里巴巴（年费1200万）、腾讯（年费800万）、字节跳动（年费600万）。客户联系人：陈经理13812345678。", 1),
    ("员工薪酬调整方案", "CEO年薪180万，CTO年薪120万。技术总监李明（身份证320106198805152234）调薪至80万。计划裁员15人。", 1),
    ("商业合作协议", "与字节跳动签订战略合作，3年共计1.2亿元。合同保密期5年，违约金5000万。项目代号凤凰计划。", 1),
    ("服务器配置文档", "生产环境服务器IP 192.168.10.25，数据库root账号密码Prod#2024@DB，备份节点10.0.0.88。", 1),
    ("投资人协议", "红杉资本投资5000万美元，占股15%。对赌协议要求年增长率50%，否则回购股权。", 1),
    ("用户隐私数据", "系统存储50万用户征信记录、银行卡信息（加密）、通讯录数据。数据安全等级L4，仅5名工程师有权限。", 1),
    ("产品研发计划", "下一代产品预计投入研发费用8000万，核心功能包括AI推荐、实时分析。竞品分析显示对手B公司市场份额下滑15%。", 1),
    ("收购意向书", "董事会批准收购C公司，交易金额8000万。目标公司拥有200万用户，预计2月完成交割。", 1),
    ("内部审计报告", "发现财务部存在3处违规操作，涉及金额500万。审计组建议立即整改，相关责任人张某已被停职。", 1),
    ("技术架构设计", "系统采用微服务架构，核心模块包括用户中心、支付网关、推荐引擎。API密钥sk-prod-abc123def456。", 1),
    ("竞标方案", "政府项目报价3180万，对手华为报价3200万。评审委员会李主任为关键人物，建议加强沟通。", 1),
    ("股权激励计划", "2025年期权池500万股，核心员工每人50万股，行权价8元/股。上市后预计增值10倍。", 1),
    ("客户流失分析", "Q3客户流失率18%，主要原因为竞品价格优势。重点客户小米集团有转投意向，需紧急维护关系。", 1),
    ("数据泄露事件报告", "2024年11月发现数据库被非法访问，泄露用户数据3万条。已报警，公安机关立案侦查。", 1),
    ("并购尽职调查", "目标公司估值2亿，实际资产1.5亿，存在0.3亿负债未披露。法务部建议重新谈判价格。", 1),
    ("高管离职协议", "前CTO离职补偿金800万，签署竞业协议2年。掌握核心技术，需严格保密监控。", 1),
    ("融资路演材料", "Pre-IPO融资5亿美元，软银、红杉为主要投资方。披露未来3年战略规划及财务预测。", 1),
    ("税务筹划方案", "通过海外架构优化税负，预计节省税款3000万。方案涉及开曼、香港、新加坡三地实体。", 1),
    ("重大诉讼文件", "与前合作伙伴D公司专利纠纷，涉案金额5000万。一审败诉，二审上诉中。", 1),
    ("内部举报材料", "员工实名举报销售总监王某收受回扣200万。纪检组已介入调查，证据确凿。", 1),
    ("关联交易审批", "与关联公司E进行交易，金额2000万。需独立董事审批，存在利益输送嫌疑。", 1),
    ("研发失败总结", "VR项目投入5000万研发费用，因技术瓶颈宣告失败。团队20人将被调整。", 1),
    ("保密协议清单", "与腾讯、阿里、华为签署NDA，涉及技术方案、商业条款。协议有效期5年，违约责任明确。", 1),
    
    # === 非涉密文档（25条）===
    ("公司年会通知", "2024年度年会定于12月25日举行，地点为国际会议中心。请各部门提前报名，截止日期12月15日。", 0),
    ("办公室搬迁公告", "因业务发展需要，公司将于下月迁至新办公楼。新地址：朝阳区建国路88号，请员工知悉。", 0),
    ("员工生日祝福", "本月过生日的员工有张三、李四、王五。公司将在茶水间举办生日会，欢迎大家参加。", 0),
    ("团建活动方案", "秋季团建定于10月20日，地点香山公园。活动包括登山、野餐、团队游戏。请穿运动装。", 0),
    ("培训课程通知", "下周三举办Python编程培训，由技术部李工主讲。欢迎有兴趣的同事报名参加。", 0),
    ("健康体检安排", "年度员工体检安排在11月进行，体检医院为协和医院。请提前预约体检时间。", 0),
    ("食堂菜单更新", "本周食堂新增川菜系列，包括宫保鸡丁、麻婆豆腐、水煮鱼。欢迎大家品尝反馈。", 0),
    ("停车位分配", "地下停车场新增50个车位，按先到先得原则分配。请到行政部登记车牌号。", 0),
    ("图书角新书推荐", "图书角新到《人工智能简史》《Python实战》等20本技术书籍，欢迎借阅。", 0),
    ("运动会报名", "公司运动会将举办篮球、羽毛球、跑步等项目。请运动健将们积极报名参赛。", 0),
    ("节日放假通知", "根据国家规定，春节放假7天，2月10日至16日。请大家提前安排好工作。", 0),
    ("志愿者招募", "公司将组织员工参加社区志愿服务活动，帮助孤寡老人。欢迎爱心人士报名。", 0),
    ("摄影大赛征稿", "首届员工摄影大赛开始征稿，主题为'身边的美好'。优秀作品将展出并颁奖。", 0),
    ("环保倡议书", "为响应绿色办公，倡议大家节约用纸、随手关灯、垃圾分类。让我们共建美好环境。", 0),
    ("新员工欢迎会", "欢迎10位新同事加入公司大家庭。本周五下午将举办欢迎会，请大家积极参与。", 0),
    ("部门篮球赛", "技术部vs市场部篮球友谊赛，周六下午3点体育馆见。欢迎啦啦队加油助威。", 0),
    ("读书分享会", "本月读书会主题为'时间管理'，由行政部王经理分享《高效能人士的七个习惯》读后感。", 0),
    ("咖啡机使用指南", "茶水间新装了全自动咖啡机，操作说明：选择饮品-放入杯子-按启动键。请保持整洁。", 0),
    ("羽毛球社团成立", "公司羽毛球社团正式成立，每周三晚7点活动。欢迎羽毛球爱好者加入。", 0),
    ("员工子女夏令营", "暑期将组织员工子女夏令营，活动包括科技馆参观、户外拓展。报名费优惠价800元。", 0),
    ("办公用品领用", "本月办公用品集中发放，包括笔记本、签字笔、文件夹。请到行政部领取。", 0),
    ("消防演练通知", "下周将进行消防安全演练，请大家按照指引有序疏散。演练时间约30分钟。", 0),
    ("员工满意度调查", "请大家填写员工满意度问卷，帮助我们改进工作。问卷匿名，预计5分钟完成。", 0),
    ("技术分享沙龙", "本期技术沙龙主题'微服务架构实践'，分享人：研发部张工。时间周五下午4点。", 0),
    ("年度优秀员工公示", "根据绩效考核，评选出10名年度优秀员工。名单已在公告栏公示，祝贺获奖者。", 0),
]

# 插入数据
cursor.executemany('''
INSERT INTO test (title, summary, is_sensitive)
VALUES (?, ?, ?)
''', sample_data)

conn.commit()